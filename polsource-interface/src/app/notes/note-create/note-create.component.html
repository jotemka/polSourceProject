
<div class="controls col-xl-3 offset-xl-1 mt-3">
  <ngb-alert #selfCloseAlert *ngIf="alertMessage" type="danger" (closed)="alertMessage = ''">{{ alertMessage }}</ngb-alert>
  <form [formGroup]="newNoteForm" (ngSubmit)="onSubmit()" novalidate>
    <div class="form-group">
      <label for="noteTitle">Note title:</label>
      <input type="text" formControlName="title" id="noteTitle" class="form-control">
      <div *ngIf="title!.errors">
        <div *ngIf="title!.errors.required" class="text-danger">Title is required</div>
      </div> 
    </div>

    <div class="form-group">
      <label for="noteContent">Content</label> 
      <textarea formControlName="content" class="form-control" [maxlength]="this.maxLength"></textarea>
      <div *ngIf="content!.errors">
        <div *ngIf="content!.errors.required" class="text-danger">Content is required</div>
      </div>
      <div *ngIf="!content!.errors && charactersLeft>0" class="">{{ charactersLeft }} characters left</div>
      <div *ngIf="charactersLeft == 0" class="text-danger">
        {{ charactersLeft }} characters left 
      </div>
      <br>
    </div>
    <div class="form-group float-right">
      <button type="submit" class="btn btn-success" [disabled]="!newNoteForm.valid">Create</button>
      <button type="button" class="btn btn-danger" [routerLink]="['/current-notes']">Back</button>
    </div>
  </form>
</div>
